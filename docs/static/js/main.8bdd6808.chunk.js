(this["webpackJsonpsamy-tech-test"]=this["webpackJsonpsamy-tech-test"]||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var i=a(2),s=a.n(i),r=a(12),o=a.n(r),c=a(3),l=a(8),n=(a(21),a(1)),h=function(e){var t=e.image,a=e.onLikeToggle,s=Object(i.useState)(t.liked),r=Object(c.a)(s,2),o=r[0],h=r[1];return Object(n.jsxs)("div",{className:"image-item",children:[Object(n.jsxs)("div",{className:"price-tag",children:[t.price.toFixed(2)," ",Object(n.jsx)("span",{style:{fontSize:"10px"},children:"\u20ac"})]}),Object(n.jsx)("img",{src:t.main_attachment.big,alt:t.title}),Object(n.jsxs)("div",{className:"image-info",children:[Object(n.jsx)("h3",{children:t.title.toUpperCase()}),Object(n.jsxs)("p",{children:["by ",t.author]})]}),Object(n.jsxs)("div",{className:"icon-section",children:[Object(n.jsxs)("div",{className:"like-section",children:[Object(n.jsx)(l.b,{className:"like-icon ".concat(o?"animate__animated animate__heartBeat":""),onClick:function(){h(!o),a(t.id)},style:{color:o?"#11e968":"#fff"}}),Object(n.jsxs)("span",{style:{color:"#fff"},children:["00",t.likes_count]})]}),Object(n.jsxs)("div",{className:"reload-section",children:[Object(n.jsx)(l.a,{className:"reload-icon"}),Object(n.jsx)("span",{style:{color:"#fff"},children:"000"})]})]})]})},m=function(e){var t=e.images,a=e.onLikeToggle;return Object(n.jsx)("div",{className:"image-list",children:t.map((function(e,t){return Object(n.jsx)(h,{image:e,onLikeToggle:a},t)}))})},p=a(4),u=a.n(p),d=a(9),k=a(5),g=[{type:"Image",id:2,title:"Grey beach",price:43,author:"Mary Robinette",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/100/600",small:"https://picsum.photos/id/100/300"},likes_count:1,liked:!1,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/2/likes",methods:"POST"}]},{type:"Image",id:3,title:"A castle",price:45,author:"Aliette de Bodard",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/101/600",small:"https://picsum.photos/id/101/300"},likes_count:2,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/3/likes",methods:"POST"}]},{type:"Image",id:4,title:"Red fruits",price:30,author:"SamyRoad",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/102/600",small:"https://picsum.photos/id/102/300"},likes_count:7,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/4/likes",methods:"POST"}]},{type:"Image",id:5,title:"Feet don't fail me",price:12,author:"Djeli Clark",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/103/600",small:"https://picsum.photos/id/103/300"},likes_count:8,liked:!1,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/5/likes",methods:"POST"}]},{type:"Image",id:16,title:"Dream",author:"Brooke Bolander",price:310,created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/104/600",small:"https://picsum.photos/id/104/300"},likes_count:8,liked:!1,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/16/likes",methods:"POST"}]},{type:"Image",id:6,title:"All flowers",author:"Yoon ha Lee",price:12,created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/106/600",small:"https://picsum.photos/id/106/300"},likes_count:5,liked:!1,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/6/likes",methods:"POST"}]},{type:"Image",id:7,title:"Wheatness",price:45,author:"Fran Wilde",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/107/600",small:"https://picsum.photos/id/107/300"},likes_count:9,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/7/likes",methods:"POST"}]},{type:"Image",id:8,title:"Desert",price:18,author:"Nisi Shawl",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/108/600",small:"https://picsum.photos/id/108/300"},likes_count:23,liked:!1,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/8/likes",methods:"POST"}]},{type:"Image",id:9,title:"A forest with no wolves",price:19,author:"SamyRoad",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/109/600",small:"https://picsum.photos/id/109/300"},likes_count:54,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/9/likes",methods:"POST"}]},{type:"Image",id:10,title:"Sunset",price:19,author:"Linda Nagata",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/110/600",small:"https://picsum.photos/id/110/300"},likes_count:15,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/10/likes",methods:"POST"}]},{type:"Image",id:11,title:"Who's gonna drive you",price:12,author:"Sofia Samatar",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/111/600",small:"https://picsum.photos/id/111/300"},likes_count:22,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/11/likes",methods:"POST"}]},{type:"Image",id:12,title:"Yellow-ish",price:11,author:"Kameron Hurley",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/112/600",small:"https://picsum.photos/id/112/300"},likes_count:2,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/12/likes",methods:"POST"}]},{type:"Image",id:13,title:"Teamaker",price:26,author:"Jack Mcdevitt",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/113/600",small:"https://picsum.photos/id/113/300"},likes_count:65,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/13/likes",methods:"POST"}]},{type:"Image",id:14,title:"Sky Escape",price:95,author:"Jo Walton",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/114/600",small:"https://picsum.photos/id/114/300"},likes_count:76,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/14/likes",methods:"POST"}]},{type:"Image",id:15,title:"Drops",price:125,author:"Geoff Ryman",created_at:"2012-12-12T21: 08: 20Z",main_attachment:{big:"https://picsum.photos/id/115/600",small:"https://picsum.photos/id/115/300"},likes_count:3,liked:!0,links:[{rel:"avatar",uri:"http://lorempixel.com/250/250/",methods:"GET"},{rel:"like",uri:"http://localhost:3100/images/15/likes",methods:"POST"}]}],b=!0,j=function(){var e=Object(k.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Estoy en producci\xf3n....",b),console.log("actulizado el archivo  ****"),e.abrupt("return",g);case 6:return console.log("Estoy en desarrollo"),e.next=9,fetch("http://localhost:3100/images?page=".concat(t));case 9:if((a=e.sent).ok){e.next=12;break}throw new Error("Error al obtener im\xe1genes");case 12:return e.abrupt("return",a.json());case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(k.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Simulando el toggle de like para la imagen con ID ".concat(t," en producci\xf3n.")),e.abrupt("return",{status:204});case 5:return console.log("Like en desarrollo"),e.next=8,fetch("http://localhost:3100/images/".concat(t,"/likes"),{method:"POST"});case 8:if((a=e.sent).ok){e.next=11;break}throw new Error("Error al realizar el like");case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=Object(i.useState)([]),a=Object(c.a)(t,2),s=a[0],r=a[1],o=Object(i.useState)(!1),l=Object(c.a)(o,2),n=l[0],h=l[1],m=Object(i.useState)(null),p=Object(c.a)(m,2),g=p[0],b=p[1],f=function(){var t=Object(k.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h(!0),b(null),t.prev=2,a=[],1!==e){t.next=11;break}return t.next=7,j(e);case 7:a=t.sent,r(a),t.next=12;break;case 11:r((function(e){return[].concat(Object(d.a)(e),Object(d.a)(e))}));case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),b("Error al obtener las im\xe1genes"),console.error(t.t0);case 18:return t.prev=18,h(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[2,14,18,21]])})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){f()}),[e]),{images:s,loading:n,error:g,setImages:r,fetchImages:f}},x=a(13),v=function(e){var t=e.onSearch,a=Object(i.useState)(""),s=Object(c.a)(a,2),r=s[0],o=s[1];return Object(n.jsxs)("div",{className:"search-bar",children:[Object(n.jsx)(x.a,{className:"search-icon"}),Object(n.jsx)("input",{type:"text",placeholder:"You're looking for something?",value:r,onChange:function(e){return o(e.target.value)},onKeyDown:function(){t&&(console.log("query.....",r),t(r))}})]})},_=a.p+"static/media/logo.ccf30e6a.png",T=function(e){var t=e.handleSearch;return Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("img",{src:_,alt:"Logo",className:"logo"}),Object(n.jsx)(v,{onSearch:t})]})},y=function(){return Object(n.jsx)("div",{className:"spinner-container",children:Object(n.jsx)("div",{className:"spinner"})})},S=a(10),w=function(){var e=Object(i.useState)(""),t=Object(c.a)(e,2),a=t[0],s=t[1],r=Object(i.useState)(1),o=Object(c.a)(r,2),l=o[0],h=o[1],p=O(l),d=p.images,g=p.loading,b=p.error,j=p.setImages;!function(e,t,a,s){Object(i.useEffect)((function(){var i=function(){window.scrollY+window.innerHeight>=document.documentElement.scrollHeight-100&&!e&&(s((function(e){return e+1})),t(a+1))};return window.addEventListener("scroll",i),function(){return window.removeEventListener("scroll",i)}}),[e,a,t,s])}(g,p.fetchImages,l,h);var x=function(e,t){var a=function(){var a=Object(k.a)(u.a.mark((function a(i){var s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,console.warn("Simulando el toggle de like para la imagen con ID ".concat(i," en producci\xf3n.")),a.next=8;break;case 5:return console.log("like estoy en desarrollo : ....)"),a.next=8,f(i);case 8:s=e.map((function(e){return Number(e.id)===i?Object(S.a)(Object(S.a)({},e),{},{liked:!e.liked,likes_count:e.liked?e.likes_count-1:e.likes_count+1}):e})),t(s),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.error("Error al alternar el like:",a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}();return a}(d,j),v=function(e,t){var a=t.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(a)||e.author.toLowerCase().includes(a)||e.price.toString().includes(a)}))}(d,a);return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(T,{handleSearch:s}),Object(n.jsx)(m,{images:v,onLikeToggle:x}),g&&Object(n.jsx)(y,{}),b&&Object(n.jsxs)("p",{children:["Error: ",b]})]})},E=(a(24),function(){return Object(n.jsx)(w,{})});o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(E,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.8bdd6808.chunk.js.map